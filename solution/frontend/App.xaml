<?xml version="1.0" encoding="UTF-8" ?>
<Application
    x:Class="MagiDesk.Frontend.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:MagiDesk.Frontend"
    xmlns:converters="using:MagiDesk.Frontend.Converters"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <muxc:XamlControlsResources />
                <!-- Fluent 2 Design System -->
                <ResourceDictionary Source="DesignSystem.xaml" />
            </ResourceDictionary.MergedDictionaries>
            
            <!-- Legacy compatibility - map old keys to Fluent tokens -->
            <SolidColorBrush x:Key="PrimaryBrush" Color="{ThemeResource SystemAccentColor}" />
            <SolidColorBrush x:Key="WhiteBrush" Color="{ThemeResource SystemFillColorAttentionBackground}" />
            <SolidColorBrush x:Key="BlackBrush" Color="{ThemeResource TextFillColorPrimary}" />

            <x:Double x:Key="AppFontSize">14</x:Double>

            <!-- Legacy styles - use Fluent styles instead -->
            <Style x:Key="MyLabel" TargetType="TextBlock" BasedOn="{StaticResource BodyTextStyle}">
                <Setter Property="Foreground" Value="{ThemeResource TextFillColorPrimaryBrush}" />
            </Style>

            <Style x:Key="Action" TargetType="Button" BasedOn="{StaticResource FluentSecondaryButtonStyle}">
            </Style>

            <Style x:Key="PrimaryAction" TargetType="Button" BasedOn="{StaticResource FluentPrimaryButtonStyle}">
            </Style>

            <!-- Dashboard Converters -->
            <converters:BoolToColorConverter x:Key="BoolToColorConverter" />
            <converters:BoolToStatusConverter x:Key="BoolToStatusConverter" />
            <converters:CountToVisibilityConverter x:Key="CountToVisibilityConverter" />
            <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
            <converters:OccupiedToColorConverter x:Key="OccupiedToColorConverter" />
            <converters:RevenueToHeightConverter x:Key="RevenueToHeightConverter" />
            <converters:OccupancyToHeightConverter x:Key="OccupancyToHeightConverter" />
            <converters:CurrencyConverter x:Key="CurrencyConverter" />
            <converters:PercentageConverter x:Key="PercentageConverter" />
            <converters:TimeAgoConverter x:Key="TimeAgoConverter" />
            <converters:PriorityToColorConverter x:Key="PriorityToColorConverter" />
            <converters:NotificationTypeToIconConverter x:Key="NotificationTypeToIconConverter" />
            
            <!-- Payment Converters -->
            <converters:PaymentMethodToColorConverter x:Key="PaymentMethodToColorConverter" />
            <converters:OverdueToColorConverter x:Key="OverdueToColorConverter" />
            <converters:DateTimeConverter x:Key="DateTimeConverter" />

            <!-- Session Converters -->
            <converters:StatusToStyleConverter x:Key="StatusToStyleConverter" />
            <converters:StatusToVisibilityConverter x:Key="StatusToVisibilityConverter" />
            <converters:DurationConverter x:Key="DurationConverter" />
            
            <!-- User Status Converters -->
            <converters:BoolToStatusBrushConverter x:Key="BoolToStatusBrushConverter" />
            <converters:BoolToStatusTextConverter x:Key="BoolToStatusTextConverter" />
            <converters:DateTimeToStringConverter x:Key="DateTimeToStringConverter" />
            
            <!-- Status Styles for Session Converters -->
            <Style x:Key="StatusActiveStyle" TargetType="Border">
                <Setter Property="Background" Value="{ThemeResource SystemFillColorSuccessBrush}"/>
                <Setter Property="CornerRadius" Value="6"/>
                <Setter Property="Padding" Value="8,4"/>
            </Style>
            
            <Style x:Key="StatusClosedStyle" TargetType="Border">
                <Setter Property="Background" Value="{ThemeResource SystemFillColorNeutralBrush}"/>
                <Setter Property="CornerRadius" Value="6"/>
                <Setter Property="Padding" Value="8,4"/>
            </Style>
        </ResourceDictionary>
    </Application.Resources>
</Application>
