<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="MagiDesk.Frontend.Views.VoucherEditDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Create/Edit Voucher"
    PrimaryButtonText="Save"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary">

    <ScrollViewer MaxHeight="500" MaxWidth="450">
        <StackPanel Spacing="16" Padding="4">
            <!-- Basic Information -->
            <StackPanel Spacing="8">
                <TextBlock Text="Voucher Information" FontWeight="SemiBold" FontSize="16"/>
                
                <TextBox x:Name="NameTextBox" 
                         Header="Voucher Name*" 
                         PlaceholderText="e.g., VIP Member Discount"/>
                
                <TextBox x:Name="CodeTextBox" 
                         Header="Voucher Code*" 
                         PlaceholderText="e.g., VIP25, SAVE20"
                         CharacterCasing="Upper"/>
                
                <TextBox x:Name="DescriptionTextBox" 
                         Header="Description" 
                         PlaceholderText="Brief description of the voucher"
                         AcceptsReturn="True"
                         Height="60"/>
            </StackPanel>

            <!-- Discount Value -->
            <StackPanel Spacing="8">
                <TextBlock Text="Discount Value" FontWeight="SemiBold" FontSize="16"/>
                
                <ComboBox x:Name="DiscountTypeComboBox" 
                          Header="Discount Type*"
                          SelectionChanged="DiscountTypeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Percentage Discount" Tag="Percentage"/>
                    <ComboBoxItem Content="Fixed Amount Discount" Tag="FixedAmount"/>
                </ComboBox>

                <NumberBox x:Name="PercentageNumberBox" 
                           Header="Discount Percentage (%)*"
                           Minimum="1" 
                           Maximum="100"
                           SpinButtonPlacementMode="Inline"/>

                <NumberBox x:Name="FixedAmountNumberBox" 
                           Header="Discount Amount ($)*"
                           Minimum="0.01"
                           SpinButtonPlacementMode="Inline"
                           Visibility="Collapsed"/>
            </StackPanel>

            <!-- Conditions -->
            <StackPanel Spacing="8">
                <TextBlock Text="Usage Conditions" FontWeight="SemiBold" FontSize="16"/>
                
                <NumberBox x:Name="MinimumOrderValueNumberBox" 
                           Header="Minimum Order Value ($)"
                           Minimum="0"
                           SpinButtonPlacementMode="Inline"/>
                
                <NumberBox x:Name="UsageLimitNumberBox" 
                           Header="Usage Limit (per voucher)"
                           Minimum="1"
                           Value="1"
                           SpinButtonPlacementMode="Inline"/>
            </StackPanel>

            <!-- Validity -->
            <StackPanel Spacing="8">
                <TextBlock Text="Validity Period" FontWeight="SemiBold" FontSize="16"/>
                
                <DatePicker x:Name="ExpiryDatePicker" 
                            Header="Expiry Date*"/>
            </StackPanel>

            <!-- Settings -->
            <StackPanel Spacing="8">
                <TextBlock Text="Settings" FontWeight="SemiBold" FontSize="16"/>
                
                <CheckBox x:Name="IsActiveCheckBox" 
                          Content="Active" 
                          IsChecked="True"/>
                
                <CheckBox x:Name="IsPublicCheckBox" 
                          Content="Public (visible to all customers)"/>
            </StackPanel>

            <!-- Preview -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="6"
                    Padding="12">
                <StackPanel Spacing="4">
                    <TextBlock Text="Voucher Preview" FontWeight="SemiBold" FontSize="14"/>
                    <TextBlock x:Name="PreviewText" 
                               Text="Enter voucher details to see preview"
                               FontSize="12"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
