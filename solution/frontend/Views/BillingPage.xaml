<Page
    x:Class="MagiDesk.Frontend.Views.BillingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:MagiDesk.Frontend.ViewModels"
    xmlns:converters="using:MagiDesk.Frontend.Converters"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d">

    <Page.Resources>
        <!-- Converters -->
        <converters:StringToBrushConverter x:Key="StringToBrushConverter"/>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <converters:CurrencyConverter x:Key="CurrencyConverter"/>
        <converters:ItemCountConverter x:Key="ItemCountConverter"/>
        <converters:CountToVisibilityConverter x:Key="CountToVisibilityConverter"/>
    </Page.Resources>

    <Grid Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Fluent Page Header -->
        <StackPanel Grid.Row="0" Style="{StaticResource FluentPageHeaderStyle}">
            <TextBlock Text="Billing Management" 
                       Style="{StaticResource DisplayTextStyle}"
                       Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
            <TextBlock Text="Manage bills, receipts, and billing analytics" 
                       Style="{StaticResource CaptionTextStyle}"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,8,0,0">
                <Button Content="Refresh" 
                        Style="{StaticResource FluentSecondaryButtonStyle}"
                        Command="{Binding RefreshCommand}"/>
                <Button Content="Export" 
                        Style="{StaticResource FluentPrimaryButtonStyle}"
                        Command="{Binding ExportCommand}"/>
            </StackPanel>
        </StackPanel>

        <!-- Analytics Cards -->
        <ScrollViewer Grid.Row="1" HorizontalScrollMode="Enabled" HorizontalScrollBarVisibility="Auto" 
                      VerticalScrollMode="Disabled" Margin="0,0,0,8">
            <StackPanel Orientation="Horizontal" Spacing="8" Padding="8,0">
                <!-- Total Revenue Card -->
                <Border Style="{StaticResource FluentMetricCardStyle}" MinWidth="200" Margin="0,0,8,0">
                    <StackPanel>
                        <TextBlock Text="Revenue" 
                                 Style="{StaticResource TitleTextStyle}"
                                 HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding TotalRevenueText}" 
                                 FontSize="20" FontWeight="Bold" FontFamily="Segoe UI Variable"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                        <TextBlock Text="Total Revenue" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>

                <!-- Average Bill Card -->
                <Border Style="{StaticResource FluentMetricCardStyle}" MinWidth="200" Margin="8,0,8,0">
                    <StackPanel>
                        <TextBlock Text="Average" 
                                 Style="{StaticResource TitleTextStyle}"
                                 HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding AverageBillAmountText}" 
                                 FontSize="20" FontWeight="Bold" FontFamily="Segoe UI Variable"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                        <TextBlock Text="Average Bill" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>

                <!-- Total Sessions Card -->
                <Border Style="{StaticResource FluentMetricCardStyle}" MinWidth="200" Margin="8,0,8,0">
                    <StackPanel>
                        <TextBlock Text="Sessions" 
                                 Style="{StaticResource TitleTextStyle}"
                                 HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding TotalSessions}" 
                                 FontSize="20" FontWeight="Bold" FontFamily="Segoe UI Variable"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                        <TextBlock Text="Total Sessions" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>

                <!-- Average Duration Card -->
                <Border Style="{StaticResource FluentMetricCardStyle}" MinWidth="200" Margin="8,0,0,0">
                    <StackPanel>
                        <TextBlock Text="Duration" 
                                 Style="{StaticResource TitleTextStyle}"
                                 HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding AverageSessionDurationText}" 
                                 FontSize="20" FontWeight="Bold" FontFamily="Segoe UI Variable"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                        <TextBlock Text="Avg Duration" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 HorizontalAlignment="Center"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Filters -->
        <Border Grid.Row="2" Style="{StaticResource FluentCardStyle}" Margin="0,0,0,8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Text="Filters" 
                         Style="{StaticResource SubtitleTextStyle}"
                         Foreground="{ThemeResource TextFillColorPrimaryBrush}" 
                         Margin="0,0,0,16"/>
                
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Date Range -->
                    <StackPanel Grid.Column="0" Spacing="8">
                        <TextBlock Text="From Date" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <DatePicker Date="{Binding FromDate, Mode=TwoWay}"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1" Spacing="8">
                        <TextBlock Text="To Date" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <DatePicker Date="{Binding ToDate, Mode=TwoWay}"/>
                    </StackPanel>
                    
                    <!-- Table Filter -->
                    <StackPanel Grid.Column="2" Spacing="8">
                        <TextBlock Text="Table" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBox Text="{Binding TableFilter, Mode=TwoWay}" 
                               PlaceholderText="Filter by table..."
                               Style="{StaticResource FluentTextBoxStyle}"/>
                    </StackPanel>
                    
                    <!-- Server Filter -->
                    <StackPanel Grid.Column="3" Spacing="8">
                        <TextBlock Text="Server" 
                                 Style="{StaticResource CaptionTextStyle}"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBox Text="{Binding ServerFilter, Mode=TwoWay}" 
                               PlaceholderText="Filter by server..."
                               Style="{StaticResource FluentTextBoxStyle}"/>
                    </StackPanel>
                    
                    <!-- Filter Actions -->
                    <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="8" VerticalAlignment="Bottom">
                        <Button Content="Apply" 
                                Style="{StaticResource FluentPrimaryButtonStyle}"
                                Command="{Binding ApplyFiltersCommand}"/>
                        <Button Content="Clear" 
                                Style="{StaticResource FluentSecondaryButtonStyle}"
                                Command="{Binding ClearFiltersCommand}"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>

        <!-- Bills List -->
        <Border Grid.Row="3" Style="{StaticResource FluentCardStyle}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- List Header -->
                <Grid Grid.Row="0" Margin="0,0,0,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="Bills" 
                             Style="{StaticResource TitleTextStyle}"
                             Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                    
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="{Binding FilteredBillsCount}" 
                                 Style="{StaticResource BodyTextStyle}"
                                 FontWeight="SemiBold"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="of" 
                                 Style="{StaticResource BodyTextStyle}"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="{Binding TotalBillsCount}" 
                                 Style="{StaticResource BodyTextStyle}"
                                 FontWeight="SemiBold"
                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </Grid>
                
                <!-- Loading Indicator -->
                <ProgressRing Grid.Row="1" 
                             IsActive="{Binding IsLoading}" 
                             Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}"
                             Width="50" Height="50" 
                             HorizontalAlignment="Center" 
                             VerticalAlignment="Center"/>
                
                <!-- Error Message -->
                <Border Grid.Row="1" 
                       Background="{ThemeResource SystemFillColorCriticalBrush}" 
                       CornerRadius="8" 
                       Padding="16" 
                       Margin="16"
                       Visibility="{Binding HasError, Converter={StaticResource BoolToVisibilityConverter}}">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Error Loading Bills" 
                                 FontSize="16" 
                                 FontWeight="SemiBold" 
                                 Foreground="White"/>
                        <TextBlock Text="{Binding ErrorMessage}" 
                                 FontSize="14" 
                                 Foreground="White" 
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
                
                <!-- Empty State -->
                <StackPanel Grid.Row="1" 
                           HorizontalAlignment="Center" 
                           VerticalAlignment="Center"
                           Spacing="16"
                           Visibility="{Binding HasEmptyState, Converter={StaticResource BoolToVisibilityConverter}}">
                    <SymbolIcon Symbol="Document" 
                               Width="64" 
                               Height="64" 
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <TextBlock Text="No bills found" 
                             FontSize="18" 
                             FontWeight="SemiBold" 
                             Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                             HorizontalAlignment="Center"/>
                    <TextBlock Text="Try adjusting your filters or date range" 
                             FontSize="14" 
                             Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                             HorizontalAlignment="Center"/>
                </StackPanel>
                
                <!-- Bills ListView -->
                <ListView Grid.Row="1" x:Name="BillsList" 
                        ItemsSource="{Binding FilteredBills}"
                        Style="{StaticResource FluentListViewStyle}"
                        RightTapped="BillsList_RightTapped"
                        Visibility="{Binding HasBills, Converter={StaticResource BoolToVisibilityConverter}}">
                    
                    <ListView.ContextFlyout>
                        <MenuFlyout>
                            <MenuFlyoutItem Text="View Receipt" Click="ViewReceipt_Click" />
                            <MenuFlyoutItem Text="Reprint" Click="Reprint_Click" />
                            <MenuFlyoutItem Text="Reopen Bill" Click="ReopenBill_Click" 
                                          Visibility="{Binding IsClosed, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Invert}"/>
                            <MenuFlyoutItem Text="Close Bill" Click="CloseBill_Click" 
                                          Visibility="{Binding IsClosed, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Invert}"/>
                        </MenuFlyout>
                    </ListView.ContextFlyout>
                    
                    <ListView.Header>
                        <Grid Padding="16,12" Background="{ThemeResource ControlStrokeColorDefaultBrush}" CornerRadius="8,8,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="200"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Billing ID" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="1" Text="Table" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="2" Text="Server" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="3" Text="Duration" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="4" Text="Amount" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="5" Text="Status" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="6" Text="Start" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                            <TextBlock Grid.Column="7" Text="Actions" FontWeight="SemiBold" 
                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                        </Grid>
                    </ListView.Header>
                    
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Expander>
                                <Expander.Header>
                                    <Grid Padding="16,12" Background="Transparent">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="200"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- Billing ID -->
                                        <TextBlock Grid.Column="0" Text="{Binding ShortBillingId}" 
                                                 FontFamily="Consolas" FontSize="12"
                                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                        
                                        <!-- Table -->
                                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="4">
                                            <TextBlock Text="{Binding TableDisplayText}" 
                                                     FontWeight="SemiBold"
                                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                            <TextBlock Text="{Binding MovementIndicator}" 
                                                     FontSize="10"
                                                     VerticalAlignment="Center"
                                                     ToolTipService.ToolTip="{Binding MovementTooltip}"/>
                                        </StackPanel>
                                        
                                        <!-- Server -->
                                        <TextBlock Grid.Column="2" Text="{Binding ServerName}" 
                                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        
                                        <!-- Duration -->
                                        <TextBlock Grid.Column="3" Text="{Binding DurationText}" 
                                                 FontFamily="Consolas" FontSize="12"
                                                 Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                        
                                        <!-- Amount -->
                                        <TextBlock Grid.Column="4" Text="{Binding AmountText}" 
                                                 FontWeight="SemiBold" FontSize="14"
                                                 Foreground="{ThemeResource SystemFillColorSuccessBrush}"/>
                                        
                                        <!-- Status -->
                                        <Border Grid.Column="5" Style="{StaticResource FluentStatusBadgeStyle}"
                                              Background="{Binding StatusColor, Converter={StaticResource StringToBrushConverter}}">
                                            <TextBlock Text="{Binding StatusText}" FontSize="10" FontWeight="SemiBold" 
                                                     Foreground="White"/>
                                        </Border>
                                        
                                        <!-- Start Time -->
                                        <TextBlock Grid.Column="6" Text="{Binding StartLocal}" 
                                                 FontSize="11" FontFamily="Consolas"
                                                 Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                        
                                        <!-- Actions -->
                                        <StackPanel Grid.Column="7" Orientation="Horizontal" Spacing="4">
                                            <Button Content="View" FontSize="12" Padding="8,4" 
                                                  Style="{StaticResource FluentSecondaryButtonStyle}"
                                                  Click="ViewReceipt_Click" Tag="{Binding}"/>
                                            <Button Content="Print" FontSize="12" Padding="8,4" 
                                                  Style="{StaticResource FluentSecondaryButtonStyle}"
                                                  Click="Reprint_Click" Tag="{Binding}"/>
                                            <Button Content="Reopen" FontSize="12" Padding="8,4" 
                                                  Style="{StaticResource FluentSecondaryButtonStyle}"
                                                  Click="ReopenBill_Click" Tag="{Binding}"
                                                  Visibility="{Binding IsClosed, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Invert}"/>
                                            <Button Content="Close" FontSize="12" Padding="8,4" 
                                                  Style="{StaticResource FluentSecondaryButtonStyle}"
                                                  Click="CloseBill_Click" Tag="{Binding}"
                                                  Visibility="{Binding IsClosed, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Invert}"/>
                                        </StackPanel>
                                    </Grid>
                                </Expander.Header>
                                
                                <!-- Order Items Details -->
                                <Expander.Content>
                                    <Border Style="{StaticResource FluentCardStyle}" Margin="20,8,8,8" Background="#1A1A1A">
                                        <StackPanel>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                
                                                <TextBlock Grid.Column="0" Text="Order Items" FontWeight="SemiBold" FontSize="14" 
                                                         Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                                
                                                <TextBlock Grid.Column="1" 
                                                         Text="{Binding Items.Count, Converter={StaticResource ItemCountConverter}}" 
                                                         FontSize="12" FontStyle="Italic"
                                                         Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                            </Grid>
                                            
                                            <!-- Empty State -->
                                            <StackPanel Visibility="{Binding Items.Count, Converter={StaticResource CountToVisibilityConverter}, ConverterParameter=Invert}"
                                                       HorizontalAlignment="Center" 
                                                       VerticalAlignment="Center"
                                                       Spacing="8"
                                                       Margin="0,20">
                                                <SymbolIcon Symbol="Document" 
                                                           Width="32" 
                                                           Height="32" 
                                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                                <TextBlock Text="No items found" 
                                                         FontSize="12" 
                                                         Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                         HorizontalAlignment="Center"/>
                                            </StackPanel>
                                            
                                            <!-- Items List -->
                                            <ItemsControl ItemsSource="{Binding Items}"
                                                       Visibility="{Binding Items.Count, Converter={StaticResource CountToVisibilityConverter}}">
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="0,4" Padding="12,8" Background="#2A2A2A" CornerRadius="6">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="80"/>
                                                                <ColumnDefinition Width="100"/>
                                                            </Grid.ColumnDefinitions>
                                                            
                                                            <TextBlock Grid.Column="0" Text="{Binding name}" 
                                                                     Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
                                                            <TextBlock Grid.Column="1" Text="{Binding quantity}" 
                                                                     HorizontalAlignment="Center"
                                                                     Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                                            <TextBlock Grid.Column="2" Text="{Binding price, Converter={StaticResource CurrencyConverter}}" 
                                                                     HorizontalAlignment="Right" FontWeight="SemiBold"
                                                                     Foreground="{ThemeResource SystemFillColorSuccessBrush}"/>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </Border>
                                </Expander.Content>
                            </Expander>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Border>

        <!-- Loading Overlay -->
        <Grid Grid.RowSpan="5" 
              Background="{ThemeResource SystemFillColorAttentionBackground}" 
              Opacity="0.8"
              Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="16">
                <ProgressRing IsActive="True" Width="40" Height="40" 
                            Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                <TextBlock Text="Loading billing data..." 
                         Style="{StaticResource BodyTextStyle}"
                         Foreground="{ThemeResource TextFillColorPrimaryBrush}"/>
            </StackPanel>
        </Grid>

        <!-- Error Message -->
        <InfoBar Grid.Row="4" 
               x:Name="ErrorInfoBar"
               IsOpen="{Binding HasError}"
               Message="{Binding ErrorMessage}"
               Severity="Error"
               Style="{StaticResource FluentInfoBarStyle}"
               Margin="24"/>
    </Grid>
</Page>
