<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="MagiDesk.Frontend.Views.DiscountAnalyticsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="📊 Discount Analytics"
    CloseButtonText="Close">

    <ScrollViewer MaxHeight="700" MaxWidth="800">
        <StackPanel Spacing="20" Padding="4">
            <!-- Summary Cards -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="16" Margin="4">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="$12,450" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="Total Savings" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="1" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="16" Margin="4">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="1,247" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="Times Used" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="2" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="16" Margin="4">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="18%" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="Conversion Rate" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="3" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="16" Margin="4">
                    <StackPanel HorizontalAlignment="Center">
                        <TextBlock Text="$9.98" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="Avg. Discount" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Top Performing Discounts -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="🏆 Top Performing Discounts" FontSize="18" FontWeight="SemiBold"/>
                    
                    <ListView Height="200">
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="VIP Customer Discount" FontWeight="SemiBold"/>
                                    <TextBlock Text="25% off for VIP members" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Text="342 uses" VerticalAlignment="Center" Margin="12,0"/>
                                <TextBlock Grid.Column="2" Text="$4,250 saved" FontWeight="Bold" Foreground="{ThemeResource SystemFillColorSuccessBrush}" VerticalAlignment="Center"/>
                            </Grid>
                        </ListViewItem>
                        
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Happy Hour Special" FontWeight="SemiBold"/>
                                    <TextBlock Text="$5 off orders over $25" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Text="189 uses" VerticalAlignment="Center" Margin="12,0"/>
                                <TextBlock Grid.Column="2" Text="$945 saved" FontWeight="Bold" Foreground="{ThemeResource SystemFillColorSuccessBrush}" VerticalAlignment="Center"/>
                            </Grid>
                        </ListViewItem>
                        
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="New Customer Welcome" FontWeight="SemiBold"/>
                                    <TextBlock Text="15% off first order" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Text="156 uses" VerticalAlignment="Center" Margin="12,0"/>
                                <TextBlock Grid.Column="2" Text="$1,872 saved" FontWeight="Bold" Foreground="{ThemeResource SystemFillColorSuccessBrush}" VerticalAlignment="Center"/>
                            </Grid>
                        </ListViewItem>
                    </ListView>
                </StackPanel>
            </Border>

            <!-- Usage Trends -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="📈 Usage Trends (Last 30 Days)" FontSize="18" FontWeight="SemiBold"/>
                    
                    <Grid Height="150">
                        <TextBlock Text="📊 Chart visualization would go here" 
                                   HorizontalAlignment="Center" 
                                   VerticalAlignment="Center"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Customer Segments Performance -->
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="16">
                <StackPanel Spacing="12">
                    <TextBlock Text="👥 Performance by Customer Segment" FontSize="18" FontWeight="SemiBold"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Spacing="8">
                            <TextBlock Text="VIP Customers" FontWeight="SemiBold"/>
                            <TextBlock Text="Average Discount: $15.50" FontSize="12"/>
                            <TextBlock Text="Usage Rate: 85%" FontSize="12"/>
                            <ProgressBar Value="85" Maximum="100"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Spacing="8" Margin="16,0">
                            <TextBlock Text="Regular Customers" FontWeight="SemiBold"/>
                            <TextBlock Text="Average Discount: $8.25" FontSize="12"/>
                            <TextBlock Text="Usage Rate: 42%" FontSize="12"/>
                            <ProgressBar Value="42" Maximum="100"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Spacing="8">
                            <TextBlock Text="New Customers" FontWeight="SemiBold"/>
                            <TextBlock Text="Average Discount: $12.10" FontSize="12"/>
                            <TextBlock Text="Usage Rate: 67%" FontSize="12"/>
                            <ProgressBar Value="67" Maximum="100"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
