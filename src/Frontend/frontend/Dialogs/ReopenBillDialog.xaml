<ContentDialog
    x:Class="MagiDesk.Frontend.Dialogs.ReopenBillDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Reopen Bill"
    PrimaryButtonText="Reopen"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick">

    <StackPanel Spacing="16" MinWidth="400">
        <TextBlock Text="How would you like to reopen this bill?" 
                   FontSize="16" 
                   FontWeight="SemiBold" 
                   Margin="0,0,0,8"/>
        
        <TextBlock Text="{Binding BillInfo}" 
                   FontSize="14" 
                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" 
                   TextWrapping="Wrap"
                   Margin="0,0,0,16"/>

        <RadioButton x:Name="SameTableRadio" 
                     Content="Reopen with same table" 
                     IsChecked="True"
                     GroupName="ReopenOption"
                     Margin="0,0,0,8"/>
        
        <RadioButton x:Name="DifferentTableRadio" 
                     Content="Reopen with another table" 
                     GroupName="ReopenOption"
                     Checked="DifferentTableRadio_Checked"
                     Unchecked="DifferentTableRadio_Unchecked"
                     Margin="0,0,0,8"/>

        <StackPanel x:Name="TableSelectionPanel" 
                    Visibility="Collapsed" 
                    Spacing="8"
                    Margin="24,8,0,0">
            <TextBlock Text="Select a table:" 
                       FontSize="14" 
                       FontWeight="Medium"
                       Margin="0,0,0,4"/>
            <ComboBox x:Name="AvailableTablesComboBox" 
                      PlaceholderText="Choose a table..."
                      SelectionChanged="AvailableTablesComboBox_SelectionChanged">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Label}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
        </StackPanel>

        <Border x:Name="ErrorMessageBorder" 
                Background="#FFD13438" 
                CornerRadius="8" 
                Padding="12" 
                Visibility="Collapsed"
                Margin="0,8,0,0">
            <TextBlock x:Name="ErrorMessageText" 
                       Text="" 
                       Foreground="White" 
                       TextWrapping="Wrap"/>
        </Border>
    </StackPanel>
</ContentDialog>

